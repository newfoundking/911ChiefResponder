<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>CAD Interface</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <link rel="stylesheet" href="style.css" />
  <script src="/config/unitTypes.js"></script>
  <script src="/config/trainings.js"></script>
  <script src="/config/equipment.js"></script>
  <script src="js/notifications.js"></script>
  <script type="module" src="js/common.js"></script>
  <script type="module" src="js/missions.js"></script>
  <script type="module" src="js/stations.js"></script>
  <script type="module" src="js/edit-dialogs.js"></script>
  <script type="module" src="js/cad.js"></script>
</head>
<body class="cad-layout">
  <div id="cadTop">
    <button id="returnMain" class="cad-action">Return to Main Page</button>
    <div id="walletDisplay">Balance: $0</div>
    <div id="cadSpeeds">
      <button class="cad-speed active" data-speed="pause">Pause</button>
      <button class="cad-speed" data-speed="slow">Slow</button>
      <button class="cad-speed" data-speed="medium">Medium</button>
      <button class="cad-speed" data-speed="fast">Fast</button>
    </div>
    <button id="generateMission" class="cad-action">Generate Mission</button>
  </div>
  <div id="cadContent">
    <div id="cadMissions"></div>
    <div id="cadMap"></div>
    <div id="cadDetail" class="hidden"></div>
    <div id="cadStations"></div>
    <div id="cadUnits" class="hidden"></div>
  </div>

  <!-- Edit Personnel Modal -->
  <div id="editPersonnelModal" style="
        position: fixed; top: 20%; left: 50%; transform: translateX(-50%);
        background: white; border: 2px solid #444; padding: 1em;
        width: 300px; box-shadow: 0 0 10px rgba(0,0,0,0.3);
        display: none; z-index: 10001;">
        <h3>Edit Personnel</h3>
        <div id="editPersonnelContent">Loading...</div>
        <button onclick="document.getElementById('editPersonnelModal').style.display = 'none';">Close</button>
  </div>

  <!-- Edit Unit Modal -->
  <div id="editUnitModal" style="
        position: fixed; top: 20%; left: 50%; transform: translateX(-50%);
        background: white; border: 2px solid #444; padding: 1em;
        width: 300px; box-shadow: 0 0 10px rgba(0,0,0,0.3);
        display: none; z-index: 10001;">
        <h3>Edit Unit</h3>
        <div id="editUnitContent">Loading...</div>
        <button onclick="document.getElementById('editUnitModal').style.display = 'none';">Close</button>
  </div>

  <!-- Unit Detail Modal -->
  <div id="unitDetailModal" style="
        position: fixed; top: 20%; left: 50%; transform: translateX(-50%);
        background: white; border: 2px solid #444; padding: 1em;
        width: 300px; box-shadow: 0 0 10px rgba(0,0,0,0.3);
        display: none; z-index: 10001; max-height: 80vh; overflow-y: auto;">
        <h3>Unit Details</h3>
        <div id="unitDetailContent">Loading...</div>
        <button onclick="document.getElementById('unitDetailModal').style.display = 'none';">Close</button>
  </div>
</body>
</html>
